webpackJsonp([50],{OCOs:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"\n.div2 {\r\n  width: 100%;\r\n  height: 30px;\r\n  background-color: #969696;\r\n  line-height: 30px;\r\n  color: #F0F8FF;\n}\n.div1 {\r\n  background-color: #969696;\r\n  width: 100%;\r\n  height: 1px;\n}\n.divinp {\r\n  padding: 10px;\r\n  background-color: #F9FAFC;\r\n  height: 100%;\n}\nheader {\r\n  position: fixed;\r\n  top: 0;\r\n  width: 100%;\r\n\r\n\r\n  z-index: 2;\n}\nfooter {\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\n}\r\n\r\n",""])},b61H:function(t,e,n){var o=n("OCOs");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("rjj0")("4eab9dc5",o,!0,{})},y9GJ:function(t,e,n){"use strict";function o(t){n("b61H")}Object.defineProperty(e,"__esModule",{value:!0});var a=n("mvHQ"),r=n.n(a),i=n("YxJB"),s=n("3Lt7"),c=n("ABCa"),d=(i.a,s.a,c.a,{components:{Flexbox:i.a,FlexboxItem:s.a,XHeader:c.a},data:function(){return{checked:null,rolename:"",roledescr:"",data2:[],data1:[],data:[],projectid:"",myname:"",mydescr:""}},created:function(){this.projectid=sessionStorage.getItem("projectid"),this.refi()},methods:{changedr:function(t){this.checked=t.map(function(t){return t.id}).join(", ")},conf:function(){var t=this;this.$vux.loading.show({text:"加载中"}),console.log(1),console.log(this.checked),this.$http.get("/OnuMonitorNew/DataCommunicate",{params:{requestType:52,projectid:this.projectid,roleid:"",name:this.rolename,descr:this.roledescr,resources:this.checked}}).then(function(e){t.$vux.loading.hide(),"success"==e.data?(t.$vux.toast.show({text:"数据提交成功",type:"text"}),t.$router.push({name:"roleman"})):t.$vux.toast.show({text:"数据提交失败",type:"text"}),console.log(e)}).catch(function(e){t.$vux.loading.hide(),console.log(e)})},refi:function(){console.log("in...");var t=this;this.$http.get("/OnuMonitorNew/DataCommunicate",{params:{requestType:51,roleId:""}}).then(function(e){function n(t,e){var o,a=[];for(var r in t)t[r].pid==e&&(a.push(t[r]),o=n(t,t[r].id),t[r].children=[],o.length>0&&(t[r].children=o));return a}console.log(e.data);var o=r()(e.data),a=o.split("}").length-1-1;console.log("总返回数据条数:"+a+"条");for(var i=[],s=0;s<a;s++)t.data2.push(JSON.parse(e.data[s])),i.push(parseInt(t.data2[s].pid));for(var s=0;s<a;s++)t.data2[s].label=t.data2[s].name,1==t.data2[s].isChecked&&(delete t.data2[s].isChecked,t.data2[s].isChecked=!0),0==t.data2[s].isChecked&&delete t.data2[s].isChecked;console.log(t.data2);var c=[];t.data=n(t.data2,0),t.data2.forEach(function(t){t.isChecked&&c.push(t)}),t.changedr(c),console.log(t.data)},function(t){console.log(t)})},change:function(t,e){console.log("change",t,e),console.log(this.listt)},goHome:function(){this.$router.push({name:"home"})}}}),l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"rolemanadd"},[o("header",[o("x-header",{attrs:{slot:"buttom"},slot:"buttom"},[t._v("角色配置\n      "),o("img",{attrs:{slot:"right",width:"22",height:"22",src:n("77/w"),alt:""},on:{click:function(e){t.goHome()}},slot:"right"})]),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"divinp"},[o("flexbox",{attrs:{gutter:0}},[o("flexbox-item",{attrs:{span:3}},[t._v("角色名称:")]),t._v(" "),o("flexbox-item",[o("Input",{model:{value:t.rolename,callback:function(e){t.rolename=e},expression:"rolename"}})],1)],1),t._v(" "),o("br"),t._v(" "),o("flexbox",{attrs:{gutter:0}},[o("flexbox-item",{attrs:{span:3}},[t._v("角色描述:")]),t._v(" "),o("flexbox-item",[o("Input",{model:{value:t.roledescr,callback:function(e){t.roledescr=e},expression:"roledescr"}})],1)],1)],1),t._v(" "),t._m(1)],1),t._v(" "),o("div",{staticStyle:{"padding-left":"20px","padding-top":"220px","padding-bottom":"60px"}},[o("tree",{attrs:{data:t.data,cbChanged:t.changedr}}),t._v(" "),o("div",{staticClass:"result"},[t._v("\n      Selected: "+t._s(t.checked)+"\n    ")])],1),t._v(" "),o("footer",[o("x-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.conf()}}},[t._v("配置")])],1)])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div2"},[n("span",[t._v("角色信息:")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div2"},[n("span",[t._v("资源树:")])])}],u={render:l,staticRenderFns:h},p=u,v=n("VU/8"),f=o,g=v(d,p,!1,f,null,null);e.default=g.exports}});