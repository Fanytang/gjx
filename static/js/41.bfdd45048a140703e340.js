webpackJsonp([41],{"3/Tx":function(t,e,o){var n=o("kabx");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o("rjj0")("2760736d",n,!0,{})},RcAb:function(t,e,o){"use strict";function n(t){o("3/Tx")}Object.defineProperty(e,"__esModule",{value:!0});var a=o("mvHQ"),i=o.n(a),r=o("YxJB"),s=o("3Lt7"),c=o("ABCa"),d=(r.a,s.a,c.a,{components:{Flexbox:r.a,FlexboxItem:s.a,XHeader:c.a},data:function(){return{checked:null,result:[],commonList:[],checklist001:[],descr:[],name:[],roleid:[],picked:"",data2:[],data3:[],data:[],projectid:"",permission:"",routerParams:""}},created:function(){this.projectid=sessionStorage.getItem("projectid"),this.permission=sessionStorage.getItem("permission"),this.refi()},methods:{changedr:function(t){var e=[];console.log(t),t.forEach(function(t){console.log(t),0==t.children.length&&(console.log(t.id),e.push(t.id))}),this.checked=e.join(","),console.log(this.checked)},conf:function(){var t=this;this.$vux.loading.show({text:"加载中"}),console.log(1),console.log(this.checked),this.$http.get("/OnuMonitorNew/DataCommunicate",{params:{requestType:56,projectid:this.projectid,permission:this.permission,phoneNum:this.routerParams,resources:this.checked}}).then(function(e){t.$vux.loading.hide(),"success"==e.data?(t.$vux.toast.show({text:"数据提交成功",type:"text"}),t.$router.push({name:"appinfo"})):t.$vux.toast.show({text:"数据提交失败",type:"text"}),console.log(e)}).catch(function(e){t.$vux.loading.hide(),console.log(e)})},refi:function(){this.routerParams=this.$route.params.phoneNum;var t=this;this.$http.get("/OnuMonitorNew/DataCommunicate",{params:{requestType:55,projectid:this.projectid,permission:this.permission,phoneNum:this.routerParams}}).then(function(e){function o(t,e){var n,a=[];for(var i in t)t[i].pid==e&&(a.push(t[i]),n=o(t,t[i].id),t[i].children=[],n.length>0&&(t[i].children=n));return a}for(var n=i()(e.data),a=n.split("}").length-1-1,r=0;r<a;r++)t.data2.push(JSON.parse(e.data[r]));for(var r=0;r<a;r++)t.data2[r].label=t.data2[r].name,1==t.data2[r].isChecked&&(delete t.data2[r].isChecked,t.data2[r].isChecked=!0),0==t.data2[r].isChecked&&delete t.data2[r].isChecked;console.log(t.data2);var s=[];t.data=o(t.data2,0),t.data2.forEach(function(t){t.isChecked&&s.push(t)}),t.changedr(s),console.log(t.data)},function(t){console.log(t)})},change:function(t,e){console.log("change",t,e),console.log(this.listt)},goHome:function(){this.$router.push({name:"home"})}}}),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appgjx"},[n("header",[n("x-header",{attrs:{slot:"buttom"},slot:"buttom"},[t._v("光交箱授权\n      "),n("img",{attrs:{slot:"right",width:"22",height:"22",src:o("77/w"),alt:""},on:{click:function(e){t.goHome()}},slot:"right"})]),t._v(" "),t._m(0),t._v(" "),n("div",{attrs:{id:"divinp"}},[n("flexbox",{attrs:{gutter:0}},[n("flexbox-item",{attrs:{span:1}}),t._v(" "),n("flexbox-item",{attrs:{span:2}},[t._v("姓名:")]),t._v(" "),n("flexbox-item",{attrs:{span:7}},[t._v(t._s(this.$route.params.userName))])],1),t._v(" "),n("br"),t._v(" "),n("flexbox",{attrs:{gutter:0}},[n("flexbox-item",{attrs:{span:1}}),t._v(" "),n("flexbox-item",{attrs:{span:2}},[t._v("手机号:")]),t._v(" "),n("flexbox-item",{attrs:{span:7}},[n("div",[t._v(t._s(this.$route.params.phoneNum))])])],1)],1),t._v(" "),t._m(1)],1),t._v(" "),n("div",{staticStyle:{overflow:"auto","margin-top":"180px","margin-bottom":"60px"}},[n("tree",{attrs:{data:t.data,cbChanged:t.changedr}}),t._v(" "),n("div",{staticClass:"result"},[t._v("\n      Selected: "+t._s(t.checked)+"\n    ")])],1),t._v(" "),n("footer",[n("x-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.conf()}}},[t._v("配置")])],1)])},l=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"div2"},[o("span",[t._v("App人员信息:")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"div2"},[o("span",[t._v("光交箱资源树:")])])}],u={render:h,staticRenderFns:l},p=u,m=o("VU/8"),v=n,f=m(d,p,!1,v,null,null);e.default=f.exports},kabx:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,"\n.div2 {\r\n  width: 100%;\r\n  height: 30px;\r\n  background-color: #969696;\r\n  line-height: 30px;\r\n  color: #F0F8FF;\n}\n.div1 {\r\n  background-color: #969696;\r\n  width: 100%;\r\n  height: 1px;\n}\n.div3 {\r\n  background-color: #969696;\n}\n#divinp {\r\n  padding-top: 10px;\r\n  padding-bottom: 10px;\r\n  background-color: #F9FAFC;\r\n  height: 100%;\n}\nheader {\r\n  position: fixed;\r\n  top: 0;\r\n  width: 100%;\r\n  z-index: 2;\n}\nfooter {\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\n}\r\n\r\n",""])}});