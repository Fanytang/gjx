webpackJsonp([18],{"+z4S":function(n,t,e){t=n.exports=e("FZ+f")(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},"86Zd":function(n,t,e){t=n.exports=e("FZ+f")(!1),t.push([n.i,".lightBox {\n  height: 100vh;\n  padding-top: 46px; }\n  .lightBox .myHeader {\n    position: fixed;\n    width: 100%;\n    z-index: 1;\n    top: 0; }\n  .lightBox .infoBox {\n    padding: 10px;\n    background-color: #F2F2F2;\n    font-size: 14px; }\n  .lightBox .searchtxt {\n    font-size: 12px; }\n  .lightBox .searchtit {\n    font-size: 12px; }\n  .lightBox .collbtn {\n    font-size: 14px; }\n  .lightBox .myflexbox {\n    padding: 0.625rem 0.625rem; }\n  .lightBox .demo1-item {\n    border: 1px solid #ececec;\n    margin-top: 10px;\n    width: 100%; }\n  .lightBox .demo1-item-selected {\n    border: 1px solid red; }\n  .lightBox .box2 {\n    height: 100%;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    position: relative; }\n",""])},DAgn:function(n,t,e){"use strict";function o(n){e("sAqW")}Object.defineProperty(t,"__esModule",{value:!0});var a=(e("r4KI"),{data:function(){return{bottomLock:!1,pageNum:0,pageSize:10,thereNoData:!0,firstload:!1,indexSwiper:"10",infoData:[],demo1:"",show:!1,menus3:{"title.noop":"确定删除选中光交箱信息?",delete:'<span style="color:red">删除</span>'},defaultValue:"pls",list:[{key:"pls",value:"请选择"},{key:"yes",value:"已收藏"},{key:"no",value:"未收藏"}],collection:"",onuNum:"",onuName:"",projectid:"",phoneNum:"",tagOnuCollect:!1,tagOnuDelete:!1,asd:"1"}},created:function(){this.projectid=sessionStorage.getItem("projectid"),this.phoneNum=sessionStorage.getItem("phone"),"true"==sessionStorage.getItem("tagOnuCollect")?this.tagOnuCollect=!0:this.tagOnuCollect=!1,"true"==sessionStorage.getItem("tagOnuDelete")?this.tagOnuDelete=!0:this.tagOnuDelete=!1},methods:{loadTopAjax:function(){this.search("defaultValueRef"),console.log("shangla"),this.$refs.loadmore.onTopLoaded()},loadBottomAjax:function(){var n=this;this.thereNoData&&(this.bottomLock=!0,this.collection=this.$refs.defaultValueRef.getFullValue()[0].value,this.pageNum++,console.log(this.collection),this.$http.get("/OnuMonitorNew/DataCommunicate",{params:{requestType:"115",pageNum:this.pageNum,pageSize:this.pageSize,onuNum:this.onuNum,collectStatus:this.collection,onuName:this.onuName,phoneNum:this.phoneNum,projectid:this.projectid}}).then(function(t){if(n.$vux.loading.hide(),"noRecord"==t.data)n.thereNoData=!1,console.log("没有数据"),n.$vux.toast.show({text:"无更多数据",type:"text"});else{var e=[];for(var o in t.data)e.push(JSON.parse(t.data[o]));e.length<n.pageSize/2&&(console.log("000"),n.thereNoData=!1),n.infoData=n.infoData.concat(e),console.log(t)}n.bottomLock=!1}).catch(function(t){console.log(t),n.$vux.loading.hide(),n.$vux.toast.show({text:"网络不给力",type:"text",position:"top"})}))},click:function(){},onDelete:function(){var n=this,t=this;console.log(t.demo1);var e=[];this.$vux.loading.show({text:"加载中"});for(var o=0;o<this.demo1.length;o++)e[o]=t.demo1[o];console.log(e.join(",")),this.$http.get("/OnuMonitorNew/DataCommunicate",{params:{requestType:1160,selectOnuids:e.join(",")}}).then(function(t){n.$vux.loading.hide(),"success"==t.data?(n.$vux.toast.show({text:"数据提交成功",type:"text"}),n.search("defaultValueRef"),n.demo1.splice(0,n.demo1.length)):n.$vux.toast.show({text:"收藏失败,请重试",type:"text"}),console.log(t)}).catch(function(t){n.$vux.loading.hide(),n.$vux.toast.show({text:"网络不给力",type:"text",position:"top"}),console.log(t)})},goHome:function(){this.$router.push({name:"home"})},search:function(n){var t=this;this.firstload=!0,this.pageNum=0,this.thereNoData=!0,this.$vux.loading.show({text:"加载中"}),this.collection=this.$refs[n].getFullValue()[0].value,console.log(this.collection),this.$http.get("/OnuMonitorNew/DataCommunicate",{params:{requestType:"115",pageNum:this.pageNum,pageSize:this.pageSize,onuNum:this.onuNum,collectStatus:this.collection,onuName:this.onuName,phoneNum:this.phoneNum,projectid:this.projectid}}).then(function(n){if(t.$vux.loading.hide(),"noRecord"==n.data)t.infoData="",t.thereNoData=!1,console.log("没有数据"),t.$vux.toast.show({text:"无更多数据",type:"text"});else{var e=[];for(var o in n.data)e.push(JSON.parse(n.data[o]));e.length<t.pageSize/2&&(console.log("000"),t.thereNoData=!1),t.infoData=e,console.log(n)}}).catch(function(n){console.log(n),t.$vux.loading.hide(),t.$vux.toast.show({text:"网络不给力",type:"text",position:"top"})})},gocollection:function(){var n=this,t=this,e={};if(0==this.demo1.length&&0==this.infoData.length)this.$vux.toast.show({text:"请选择要收藏的站点",type:"text"});else{if(this.$vux.loading.show({text:"加载中"}),0==this.demo1.length)for(var o=0;o<this.infoData.length;o++)e[o]={collectStatus:"0",onuId:t.infoData[o].onuId};else for(var o=0;o<this.demo1.length;o++)e[o]={collectStatus:"1",onuId:t.demo1[o]};console.log(e),this.$http.get("/OnuMonitorNew/DataCommunicate",{params:{requestType:116,phoneNum:this.phoneNum,projectid:this.projectid,onuInfoList:e}}).then(function(t){n.$vux.loading.hide(),"success"==t.data?n.$vux.toast.show({text:"数据提交成功",type:"text"}):n.$vux.toast.show({text:"收藏失败,请重试",type:"text"}),console.log(t)}).catch(function(t){n.$vux.loading.hide(),n.$vux.toast.show({text:"网络不给力",type:"text",position:"top"}),console.log(t)})}},del:function(){0==this.demo1.length?this.$vux.toast.show({text:"请选择要删除的光交箱",type:"text"}):this.show=!0}}}),i=function(){var n=this,t=n.$createElement,o=n._self._c||t;return o("div",{staticClass:"lightBox"},[o("x-header",{staticClass:"myHeader"},[n._v("光交箱管理"),o("img",{attrs:{slot:"right",width:"22",height:"22",src:e("77/w"),alt:""},on:{click:function(t){n.goHome()}},slot:"right"})]),n._v(" "),o("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:n.loadBottomAjax,expression:"loadBottomAjax"}],staticClass:"box2",attrs:{"infinite-scroll-disabled":"bottomLock","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"false"}},[o("group",{attrs:{title:"光交名称"}},[o("x-input",{staticClass:"searchtit",attrs:{title:"",type:"text",placeholder:"请输入光交名称"},model:{value:n.onuName,callback:function(t){n.onuName=t},expression:"onuName"}})],1),n._v(" "),o("group",{attrs:{title:"光交编号"}},[o("x-input",{staticClass:"searchtit",attrs:{title:"",type:"text",placeholder:"请输入光交编号"},model:{value:n.onuNum,callback:function(t){n.onuNum=t},expression:"onuNum"}})],1),n._v(" "),o("group",{attrs:{title:"收藏状态"}},[o("selector",{ref:"defaultValueRef",staticClass:"searchtit",attrs:{title:"",options:n.list},model:{value:n.defaultValue,callback:function(t){n.defaultValue=t},expression:"defaultValue"}})],1),n._v(" "),o("flexbox",{staticClass:"myflexbox"},[o("flexbox-item",[o("x-button",{staticClass:"collbtn",attrs:{type:"primary"},nativeOn:{click:function(t){n.search("defaultValueRef")}}},[n._v("检索")])],1),n._v(" "),n.tagOnuCollect?o("flexbox-item",[o("x-button",{staticClass:"collbtn",attrs:{type:"primary"},nativeOn:{click:function(t){n.gocollection()}}},[n._v("收藏")])],1):n._e(),n._v(" "),n.tagOnuDelete?o("flexbox-item",[o("x-button",{staticClass:"collbtn",attrs:{type:"primary"},nativeOn:{click:function(t){n.del()}}},[n._v("删除")])],1):n._e()],1),n._v(" "),o("mt-loadmore",{ref:"loadmore",attrs:{"top-method":n.loadTopAjax,"auto-fill":!1}},[o("checker",{attrs:{type:"checkbox","default-item-class":"demo1-item","selected-item-class":"demo1-item-selected"},model:{value:n.demo1,callback:function(t){n.demo1=t},expression:"demo1"}},n._l(n.infoData,function(t,e){return o("checker-item",{key:e,attrs:{value:t.onuId}},[o("group",{attrs:{"label-width":"5em",title:"检索结果"}},[o("cell",{staticClass:"searchtxt",attrs:{primary:"content",title:"光交编号",value:t.onuNum}}),n._v(" "),o("cell",{staticClass:"searchtxt",attrs:{primary:"content",title:"区域",value:t.area}}),n._v(" "),o("cell",{staticClass:"searchtxt",attrs:{primary:"content",title:"光交名称",value:t.onuName}}),n._v(" "),o("cell",{staticClass:"searchtxt",attrs:{primary:"content",title:"设备编号",value:t.deviceNum}}),n._v(" "),o("cell",{staticClass:"searchtxt",attrs:{primary:"content",title:"光交地址",value:t.addr}})],1)],1)})),n._v(" "),n.firstload?o("load-more",{directives:[{name:"show",rawName:"v-show",value:n.thereNoData,expression:"thereNoData"}],attrs:{tip:"加载中"}}):n._e(),n._v(" "),o("load-more",{directives:[{name:"show",rawName:"v-show",value:!n.thereNoData,expression:"!thereNoData"}],attrs:{"show-loading":!1,tip:"暂无更多数据","background-color":"#fbf9fe"}})],1)],1),n._v(" "),o("actionsheet",{attrs:{menus:n.menus3,"show-cancel":""},on:{"on-click-menu":n.click,"on-click-menu-delete":n.onDelete},model:{value:n.show,callback:function(t){n.show=t},expression:"show"}})],1)},s=[],l={render:i,staticRenderFns:s},c=l,u=e("VU/8"),r=o,h=u(a,c,!1,r,"data-v-53429422",null);t.default=h.exports},r4KI:function(n,t,e){var o=e("86Zd");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);e("rjj0")("721cbebf",o,!0,{})},sAqW:function(n,t,e){var o=e("+z4S");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);e("rjj0")("133ce508",o,!0,{})}});